"use strict";(self.webpackChunkhpc_doc_new=self.webpackChunkhpc_doc_new||[]).push([[811],{1803:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>i,default:()=>u,frontMatter:()=>s,metadata:()=>c,toc:()=>l});var o=t(4848),r=t(8453);const s={title:"Running Jupyter on Pinnacles",sidebar_position:1},i=void 0,c={id:"running-jobs/run_jupyter",title:"Running Jupyter on Pinnacles",description:"Interactive jobs on cluster",source:"@site/docs/running-jobs/run_jupyter.md",sourceDirName:"running-jobs",slug:"/running-jobs/run_jupyter",permalink:"/hpc_doc_new/docs/running-jobs/run_jupyter",draft:!1,unlisted:!1,editUrl:"https://github.com/amirayuyue/hpc_doc_new/docs/running-jobs/run_jupyter.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{title:"Running Jupyter on Pinnacles",sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Running Interactive Jobs",permalink:"/hpc_doc_new/docs/running-jobs/interact_job"},next:{title:"Running Matlab",permalink:"/hpc_doc_new/docs/running-jobs/running_matlab"}},a={},l=[{value:"Interactive jobs on cluster ",id:"interactive-jobs-on-cluster-",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h2,{id:"interactive-jobs-on-cluster-",children:"Interactive jobs on cluster "}),"\n",(0,o.jsxs)(n.p,{children:["Interactive job will directly put you onto a compute node where you can use the compute node resources to test out a smaller program before scaling it up. View the ",(0,o.jsx)(n.a,{href:"/hpc_doc_new/docs/running-jobs/interact_job",title:"Interactive session",children:"Interactive Job Tutorial Here"})]}),"\n",(0,o.jsx)(n.p,{children:"After being placed on the desired node type, we can run jupyter on the compute node."}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"Load the anaconda module first."}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"module load anaconda3\n"})}),"\n",(0,o.jsxs)(n.ol,{start:"2",children:["\n",(0,o.jsx)(n.li,{children:"Now launch the launch Jupyter notebook"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"jupyter-notebook --no-browser --port=8889 --ip=0.0.0.0 \n"})}),"\n",(0,o.jsxs)(n.p,{children:["After running this command, you will be given an url for the future step, circled in pink.\n",(0,o.jsx)(n.img,{alt:"Jupyter Notebook",src:t(5884).A+"",title:"Jupyter Notebook",width:"1950",height:"410"})]}),"\n",(0,o.jsxs)(n.ol,{start:"3",children:["\n",(0,o.jsx)(n.li,{children:"Now you need to start a new terminal window and setup the tunnel as follow:"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"ssh -N -f -L 8889:mrcdg01.cluster:8889 UCMID@login.rc.ucmerced.edu  \n"})}),"\n",(0,o.jsx)(n.p,{children:"!> Note: you need to replace the mrcdg01 and UCMID to the assigned node from step 2 and your own NetID"}),"\n",(0,o.jsxs)(n.ol,{start:"4",children:["\n",(0,o.jsx)(n.li,{children:"Now open a web browser, copy and paste the URL from step 4. You will be able to access the jupyter notebook there."}),"\n"]}),"\n",(0,o.jsx)(n.admonition,{type:"warning",children:(0,o.jsx)(n.p,{children:"Internet is not accessible on Compute Nodes, that means you will not be able to download files, clone a repo from GitHub, install packages, etc. You will need to perform these operations on the login node before starting the session."})}),"\n",(0,o.jsxs)(n.ol,{start:"5",children:["\n",(0,o.jsxs)(n.li,{children:["Once you are done, terminate the ssh tunnel from step 5 by running ",(0,o.jsx)(n.code,{children:"lsof -i tcp:8889"})," to get the PID and then ",(0,o.jsx)(n.code,{children:"kill -9 <PID>"})]}),"\n",(0,o.jsxs)(n.li,{children:["You also need to exit the compute node from step 2 by typing ",(0,o.jsx)(n.code,{children:"ctrl+d"}),", and you need to type ",(0,o.jsx)(n.code,{children:"ctrl+d"})," again to exit the job if you are on the node shorter than the requested time limit."]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},5884:(e,n,t)=>{t.d(n,{A:()=>o});const o=t.p+"assets/images/jupyternotebook-5a1d311d048c49805f3431ee70a13ab1.png"},8453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>c});var o=t(6540);const r={},s=o.createContext(r);function i(e){const n=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),o.createElement(s.Provider,{value:n},e.children)}}}]);