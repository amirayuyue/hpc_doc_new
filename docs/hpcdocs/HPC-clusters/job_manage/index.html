<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-hpcdocs/HPC-clusters/job_manage" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">Job Management | UC Merced HPC &amp; JupyterHub Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://amirayuyue.github.io/hpc_doc_new/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://amirayuyue.github.io/hpc_doc_new/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://amirayuyue.github.io/hpc_doc_new/docs/hpcdocs/HPC-clusters/job_manage"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Job Management | UC Merced HPC &amp; JupyterHub Documentation"><meta data-rh="true" name="description" content="Presented here are helpful tools and methods to manage  Slurm jobs, find detailed information of a job like memory usage, CPUs, and how to use job statistics/information to troubleshoot any job failure."><meta data-rh="true" property="og:description" content="Presented here are helpful tools and methods to manage  Slurm jobs, find detailed information of a job like memory usage, CPUs, and how to use job statistics/information to troubleshoot any job failure."><link data-rh="true" rel="icon" href="/hpc_doc_new/img/cirt.png"><link data-rh="true" rel="canonical" href="https://amirayuyue.github.io/hpc_doc_new/docs/hpcdocs/HPC-clusters/job_manage"><link data-rh="true" rel="alternate" href="https://amirayuyue.github.io/hpc_doc_new/docs/hpcdocs/HPC-clusters/job_manage" hreflang="en"><link data-rh="true" rel="alternate" href="https://amirayuyue.github.io/hpc_doc_new/docs/hpcdocs/HPC-clusters/job_manage" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/hpc_doc_new/blog/rss.xml" title="UC Merced HPC &amp; JupyterHub Documentation RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/hpc_doc_new/blog/atom.xml" title="UC Merced HPC &amp; JupyterHub Documentation Atom Feed"><link rel="stylesheet" href="/hpc_doc_new/assets/css/styles.0fb755ff.css">
<script src="/hpc_doc_new/assets/js/runtime~main.754277d1.js" defer="defer"></script>
<script src="/hpc_doc_new/assets/js/main.3e6355bd.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/hpc_doc_new/"><div class="navbar__logo"><img src="/hpc_doc_new/img/CIRT.png" alt="CIRT Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/hpc_doc_new/img/CIRT.png" alt="CIRT Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Home</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/hpc_doc_new/docs/category/hpc-clusters">HPC Cluster</a><a class="navbar__item navbar__link" href="/hpc_doc_new/docs/jupyter/jupyterhub">JupyterHub</a><a class="navbar__item navbar__link" href="/hpc_doc_new/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/amirayuyue/hpc_doc_new" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/hpc_doc_new/docs/category/hpc-clusters">HPC Clusters</a><button aria-label="Collapse sidebar category &#x27;HPC Clusters&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/hpc_doc_new/docs/hpcdocs/HPC-clusters/policies">University Policies and HPC Guidelines</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item tutorialSidebar"><a class="menu__link" tabindex="0" href="/hpc_doc_new/docs/hpcdocs/HPC-clusters/campus-clusters">Campus Clusters</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/hpc_doc_new/docs/hpcdocs/HPC-clusters/condo">Condo Model and Cluster Structure</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/hpc_doc_new/docs/hpcdocs/HPC-clusters/data_sharing">Data Sharing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/hpc_doc_new/docs/hpcdocs/HPC-clusters/data_transfer">Data Transferring</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/hpc_doc_new/docs/hpcdocs/HPC-clusters/jobs">Running Jobs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/hpc_doc_new/docs/hpcdocs/HPC-clusters/job_manage">Job Management</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/hpc_doc_new/docs/hpcdocs/HPC-clusters/run_apps">Running Common Applications</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/hpc_doc_new/docs/hpcdocs/HPC-clusters/get_help">HPC Support</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/hpc_doc_new/docs/hpcdocs/HPC-clusters/hpc_news">HPC Cluster News</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/hpc_doc_new/docs/hpcdocs/HPC-clusters/markdown-features">Markdown Features</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/hpc_doc_new/docs/hpcdocs/HPC-clusters/hpc-qa">HPC Questions and Answers @ UCM</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/hpc_doc_new/docs/category/additional-hpc-resources">Additional HPC Resources</a><button aria-label="Expand sidebar category &#x27;Additional HPC Resources&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/hpc_doc_new/docs/category/off-campus-high-performance-computing-resources">Off Campus High Performance Computing Resources</a><button aria-label="Expand sidebar category &#x27;Off Campus High Performance Computing Resources&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/hpc_doc_new/docs/category/running-jobs">Running Jobs</a><button aria-label="Expand sidebar category &#x27;Running Jobs&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/hpc_doc_new/docs/category/tutorial---extras">Tutorial - Extras</a><button aria-label="Expand sidebar category &#x27;Tutorial - Extras&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/hpc_doc_new/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/hpc_doc_new/docs/category/hpc-clusters"><span itemprop="name">HPC Clusters</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Job Management</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Job Management</h1></header>
<p>Presented here are helpful tools and methods to manage  Slurm jobs, find detailed information of a job like memory usage, CPUs, and how to use job statistics/information to troubleshoot any job failure.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="checking-the-use-of-a-mixed-state-node">Checking the use of a mixed-state node.<a href="#checking-the-use-of-a-mixed-state-node" class="hash-link" aria-label="Direct link to Checking the use of a mixed-state node." title="Direct link to Checking the use of a mixed-state node.">​</a></h2>
<p>A mixed state node is a node that is not being fully utilized, i.e. their resources are not fully allocated.
Execute the following script on the login node to get detailed information about memory and cpu core availabilty on every currently, mixed-state node on Pinnacles.</p>
<p>Execute the script via the command:
<code>node_resource_status.sh</code></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="checking-jobs-after-submission">Checking jobs after submission<a href="#checking-jobs-after-submission" class="hash-link" aria-label="Direct link to Checking jobs after submission" title="Direct link to Checking jobs after submission">​</a></h2>
<p><code>squeue</code> is a  command that can check the state and workload of the overall cluster as well as more specific information. Below is a table of options that can be added to view certain information. By default <code>squeue</code> will show all currently submitted and running jobs on Pinnacles.</p>
<table><thead><tr><th>Command_Option</th><th>Use</th></tr></thead><tbody><tr><td><code>-M merced </code></td><td>Shows all currently submitted jobs on MERCED</td></tr><tr><td><code>--me </code></td><td>Shows all currently jobs submitted by user</td></tr><tr><td><code>--r</code> or <code>-array </code></td><td>Shows job arrays sumitted onto cluster</td></tr><tr><td><code>--start</code></td><td>Shows rough estimate of when jobs for specified user will begin, based off real-time state of the scheduler and jobs queued. Not always accurate estimates.</td></tr></tbody></table>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>Flags can be used together in the same line for example: <code>squeue -M merced --me --start</code></p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="job-state">Job State<a href="#job-state" class="hash-link" aria-label="Direct link to Job State" title="Direct link to Job State">​</a></h2>
<p>Job states are the current state of the jobs that were submitted. Some important state codes that are useful are given below:</p>
<table><thead><tr><th>State Codes</th><th>Meaning</th></tr></thead><tbody><tr><td>PD</td><td>Job is Pending</td></tr><tr><td>R</td><td>Running</td></tr><tr><td>CF</td><td>Job is resources allocated and now booting up</td></tr><tr><td>CD</td><td>Job has been completed</td></tr><tr><td>CA</td><td>Job has been cancelled explicitly</td></tr><tr><td>CG</td><td>Job is in the process of completting and is deallocating the resources</td></tr><tr><td>F</td><td>Job exited with Failure, a non-zero exit code is presented</td></tr><tr><td>OOM</td><td>Node are out of memory</td></tr><tr><td>S</td><td>Job has been suspended</td></tr><tr><td>TO</td><td>Job terminated upon reaching its time limit</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="nodelist-reasons">Nodelist Reasons<a href="#nodelist-reasons" class="hash-link" aria-label="Direct link to Nodelist Reasons" title="Direct link to Nodelist Reasons">​</a></h2>
<p>NodeList(Reason) helps to find on which nodes the job is currently running on. Also, in the case of PD Job state, this field will give more information about the reason why the job is in pending state. Below is a table that shows common Nodelist(reasons) and their meanings.</p>
<table><thead><tr><th>(Reason)</th><th>Meaning</th></tr></thead><tbody><tr><td>(Resources)</td><td>Job is waiting for resources to become available</td></tr><tr><td>(TimeLimit)</td><td>Job has hit it&#x27;s max time limit for execution</td></tr><tr><td>(ReqNodeNotAvail)</td><td>The requested node is not curretly available</td></tr><tr><td>(Nodes required for job are DOWN, DRAINED or reserved for jobs in higher priority partitions)</td><td>Job is not available</td></tr><tr><td>(Priority)</td><td>One or more higher priority jobs exist for this partition or advanced reservation.</td></tr><tr><td>(QoSJobLimit)</td><td>The job&#x27;s QOS has reached its maximum job count</td></tr><tr><td>QOSResourceLimit</td><td>The job&#x27;s QOS has reached some resource limit</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="sacct-command"><code>sacct</code> command<a href="#sacct-command" class="hash-link" aria-label="Direct link to sacct-command" title="Direct link to sacct-command">​</a></h2>
<p>The <code>sacct</code> displays accounting data for all jobs in the cluster queue or recent history. By default, the <code>sacct</code> command diplays JobId, JobName, Partition, Account, AllocCPUS, State and ExitCode. Below are useful options that can be added to get more specific information but all options for <code>sacct </code> can be found through executing <code>sacct -e</code> or <code>sacct -h</code>.</p>
<table><thead><tr><th>Option</th><th>Meaning</th></tr></thead><tbody><tr><td>--user=[uid_or_user_list]</td><td>Displays the list of jobs currently submitted and running on the cluster of the specified user.</td></tr><tr><td>-j, --jobs=[JobID]</td><td>Displays information about the job ID inputted</td></tr><tr><td>-C, --constraints=[constraint_list]</td><td>Comma separated list to filter jobs based on what constraints/features the job requested. Multiple options will be treated as &#x27;and&#x27; not &#x27;or&#x27;, so the job would need all constraints specified to be returned not one or the other.</td></tr><tr><td>-h, --help</td><td>Displays all options and descriptions for <code>sacct</code></td></tr><tr><td>-X, --allocations</td><td>Only show statistics relevant to the job allocation itself</td></tr><tr><td>-v, --verbose</td><td>Primarily for debugging purposes, report the state of various variables during processing.</td></tr><tr><td>--name=[jobname_list]</td><td>Display jobs that have any of these name(s).</td></tr><tr><td>--state=[state_list]</td><td>Displays states depending on which state was asked to be displayed and thier associated exit code.</td></tr></tbody></table>
<p>Example of <code>sacct -e</code></p>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Click to see the full ouput list </summary><div><div class="collapsibleContent_i85q"><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  Account             AdminComment        AllocCPUS           AllocNodes </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  AllocTRES           AssocID             AveCPU              AveCPUFreq </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  AveDiskRead         AveDiskWrite        AvePages            AveRSS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  AveVMSize           BlockID             Cluster             Comment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Constraints         ConsumedEnergy      ConsumedEnergyRaw   Container</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  CPUTime             CPUTimeRAW          DBIndex             DerivedExitCode</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Elapsed             ElapsedRaw          Eligible            End</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ExitCode            Flags               GID                 Group</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  JobID               JobIDRaw            JobName             Layout</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  MaxDiskRead         MaxDiskReadNode     MaxDiskReadTask     MaxDiskWrite</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  MaxDiskWriteNode    MaxDiskWriteTask    MaxPages            MaxPagesNode</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  MaxPagesTask        MaxRSS              MaxRSSNode          MaxRSSTask</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  MaxVMSize           MaxVMSizeNode       MaxVMSizeTask       McsLabel</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  MinCPU              MinCPUNode          MinCPUTask          NCPUS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  NNodes              NodeList            NTasks              Partition</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Priority            QOS                 QOSRAW              Reason</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ReqCPUFreq          ReqCPUFreqGov       ReqCPUFreqMax       ReqCPUFreqMin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ReqCPUS             ReqMem              ReqNodes            ReqTRES</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Reservation         ReservationId       Reserved            ResvCPU</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ResvCPURAW          Start               State               Submit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  SubmitLine          Suspended           SystemComment       SystemCPU</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Timelimit           TimelimitRaw        TotalCPU            TRESUsageInAve</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  TRESUsageInMax      TRESUsageInMaxNode  TRESUsageInMaxTask  TRESUsageInMin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  TRESUsageInMinNode  TRESUsageInMinTask  TRESUsageInTot      TRESUsageOutAve</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  TRESUsageOutMax     TRESUsageOutMaxNode TRESUsageOutMaxTask TRESUsageOutMin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  TRESUsageOutMinNode TRESUsageOutMinTask TRESUsageOutTot     UID</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  User                UserCPU             WCKey               WCKeyID</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  WorkDir</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></details>
<p>Below are defintions of some important fields from the above list that are helpful when troubleshooting or debugging.</p>
<table><thead><tr><th>Field</th><th>Use</th></tr></thead><tbody><tr><td>JobId</td><td>Shows the ID of the job</td></tr><tr><td>JobName</td><td>Name of the Job.</td></tr><tr><td>AllocCPUS</td><td>Count of allocated CPUs. Equal to NCPUS.</td></tr><tr><td>ReqCPUS</td><td>Required number of CPUS.</td></tr><tr><td>ReqMem</td><td>Minimum memory required for the job in MB. A c in the end denotes Memory Per CPU and a n at the end represents Memory Per Node.</td></tr><tr><td>AveRSS</td><td>Average memory use of all tasks in the job.</td></tr><tr><td>MaxRSS</td><td>Maximum memory use of any task in the job.</td></tr><tr><td>Start</td><td>Initiation time of the job in the same format as End</td></tr><tr><td>End</td><td>Termination time of the job.</td></tr><tr><td>Elapsed</td><td>Time taken by the job.</td></tr><tr><td>State</td><td>State of the job.</td></tr><tr><td>ExitCode</td><td>Exit code returned by the job.</td></tr></tbody></table>
<p>Here is one use of <code>sacct</code> with the follwing syntax to retrieve useful information about the specified job:
<code>sacct -j &lt;jobid&gt;</code></p>
<p>This will provide similar information with the same fields as shown below about the specified job:</p>
<p>JobID           JobName  Partition    Account  AllocCPUS      State ExitCode</p>
<hr>
<p>569893         javatest       test project_u+          1 OUT_OF_ME+    0:125
569893.batch      batch            project_u+          1 OUT_OF_ME+    0:125
569893.exte+     extern            project_u+          1  COMPLETED      0:0</p>
<p>By default, sacct -j [jobid] displays basic job information such as job ID, job name, partition, allocated CPUs, state, and exit code. This is helpful for debugging job failures. In the example, the &quot;javatest&quot; job ran in the test partition with 1 CPU but ended with OUT_OF_ME+, indicating an incomplete message due to truncation. The exit code 0:125 confirms the job ran out of memory.</p>
<p>For debugging that requires more in-depth analysis and information adding the option <code>--format=&lt;Field&gt;</code> will show additional information that can be more useful for debugging bigger issues. Below is an example with the use of <code>--format=&lt;Field</code>.</p>
<p>Using sacct -j [jobid] --format=jobid,jobname,reqcpus,reqmem,averss,maxrss,elapsed,state,exitcode, you can gain more detailed insights into job performance and failures.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">JobID           JobName  ReqCPUS     ReqMem     AveRSS     MaxRSS    Elapsed                State ExitCode</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">------------ ---------- -------- ---------- ---------- ---------- ---------- -------------------- --------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">569966          testjob        1         1M                         00:00:06        OUT_OF_MEMORY    0:125</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">569966.batch      batch        1                 1312K      1312K   00:00:06        OUT_OF_MEMORY    0:125</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">569966.exte+     extern        1                  916K       916K   00:00:06            COMPLETED      0:0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Refer to the above table for details about each field&#x27;s purpose and how it aids in diagnosing job failures. By adding more fields with <code>--format=</code>, you can perform deeper analysis on when, how, and why a job failed or ran into issues; significantly speeding up the debugging process.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="scontrol-command"><code>scontrol</code> Command<a href="#scontrol-command" class="hash-link" aria-label="Direct link to scontrol-command" title="Direct link to scontrol-command">​</a></h2>
<p><code>scontrol</code> is a helpful command that allows to  view or configure the submitted job and it&#x27;s state. scontrol is used to view or modify Slurm configuration including: job, job step, node, partition, reservation, and overall system configuration. If no command is entered on the execute line, scontrol will operate in an interactive mode and prompt for input. It will continue prompting for input and executing commands until explicitly terminated.</p>
<p>Use <code>scontrol</code> with the follwing syntax to retrieve useful information about the specified job:</p>
<p><code>scontrol show job &lt;jobid&gt;</code></p>
<p>Below is an example of using scontrol to get insight about an example job. An example job is running and has not yet terminated. It is shown as <code>JobState=RUNNING Reason=NONE</code> &amp; <code>ExitCod=0:0</code>.</p>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary> Sample Output </summary><div><div class="collapsibleContent_i85q"><div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>Astericks are only in the above sample output to protect user information.</p></div></div><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">UserId=guest001 GroupId=****** MCS_label=N/A</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Priority=4294341021 Nice=0 Account=project_**** QOS=normal</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">JobState=RUNNING Reason=None Dependency=(null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Requeue=0 Restarts=0 BatchFlag=1 Reboot=0 ExitCode=0:0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RunTime=00:02:33 TimeLimit=00:15:00 TimeMin=N/A</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SubmitTime=2023-07-19T12:50:52 EligibleTime=2023-07-19T12:50:52</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AccrueTime=2023-07-19T12:50:52</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">StartTime=2023-07-19T12:50:53 EndTime=2023-07-19T13:05:53 Deadline=N/A</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SuspendTime=None SecsPreSuspend=0 LastSchedEval=2023-07-19T12:50:53 Scheduler=Main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Partition=test AllocNode:Sid=10.1.2.252:279163</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ReqNodeList=(null) ExcNodeList=(null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NodeList=hmnode003</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">BatchHost=hmnode003</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NumNodes=1 NumCPUs=1 NumTasks=1 CPUs/Task=1 ReqB:S:C:T=0:0:*:*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">TRES=cpu=1,mem=1M,node=1,billing=1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Socks/Node=* NtasksPerN:B:S:C=0:0:*:* CoreSpec=*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MinCPUsNode=1 MinMemoryNode=1M MinTmpDiskNode=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Features=(null) DelayBoot=00:00:00</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">OverSubscribe=OK Contiguous=0 Licenses=(null) Network=(null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Command=/home/******/testoom/job.bat</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">WorkDir=/home/******/testoom</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">StdErr=/home/******/testoom/Appout.qlog</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">StdIn=/dev/null</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">StdOut=/home/******/testoom/Appout.qlog</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Power=</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></details>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="common-issues">Common Issues<a href="#common-issues" class="hash-link" aria-label="Direct link to Common Issues" title="Direct link to Common Issues">​</a></h2>
<p>Below are common issues, that can arrise when running jobs on the clusters, and associated troubleshooting methods.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="out-of-memory-issues">Out of Memory Issues<a href="#out-of-memory-issues" class="hash-link" aria-label="Direct link to Out of Memory Issues" title="Direct link to Out of Memory Issues">​</a></h3>
<p>Jobs can fail if the memory requested for the job exceeds the actual memory needed for the job to complete successfully.
It is good practice to always check the job state and exit code with <code>sacct -j &lt;JobID&gt;</code>. It can be concluded that a job has had a <strong>OUT_OF_MEMORY</strong> error from reading the job state column and exit code. Furthermore, the output file produced by the failed job should also contain error messages that can be associated with the job running out of memory.</p>
<p>Below is a job script that will result in an out of memory error.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#!/bin/bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#SBATCH --nodes=1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#SBATCH --ntasks=1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#SBATCH --partition test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#SBATCH --mem=1M # This is where the issue arrises</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#SBATCH --time=0-00:15:00 # 15 minute</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#SBATCH --output=oomout.qlog</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#SBATCH --job-name=testjob</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#SBATCH --export=ALL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sleep 5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">module load anaconda3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python oom.py</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Sample python program that was used in the job sample script above is shown below:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">import sys</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import os</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">my_list = [i for i in range(1000000)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">print(my_list)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Check the status of the job using <code>sacct -j &lt;jobid&gt;</code> the follwing is produced:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">JobID           JobName  ReqCPUS     ReqMem     AveRSS     MaxRSS    Elapsed                State ExitCode</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">------------ ---------- -------- ---------- ---------- ---------- ---------- -------------------- --------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">569966          testjob        1         1M                         00:00:06        OUT_OF_MEMORY    0:125</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">569966.batch      batch        1                 1312K      1312K   00:00:06        OUT_OF_MEMORY    0:125</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">569966.exte+     extern        1                  916K       916K   00:00:06            COMPLETED      0:0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Using the <code>sacct</code> command we see that the job failed because it ran out of memory. This is inferred through the state: <code>OUT_OF_MEMORY</code> and the exit code of <code>0:125</code> which correlates with an Out of Memory exit status or the reason why the job session was terminated.</p>
<p>It is possible to use <code>scontrol show job &lt;sampleid&gt;</code> to debug the error(s) that occured in our job.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">   JobId=569966 JobName=testjob</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   UserId=**** GroupId=**** MCS_label=N/A</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Priority=4294340955 Nice=0 Account=**** QOS=normal</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   JobState=OUT_OF_MEMORY Reason=OutOfMemory Dependency=(null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Requeue=0 Restarts=0 BatchFlag=1 Reboot=0 ExitCode=0:125</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   RunTime=00:00:05 TimeLimit=00:15:00 TimeMin=N/A</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   SubmitTime=2023-07-19T15:54:36 EligibleTime=2023-07-19T15:54:36</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   AccrueTime=2023-07-19T15:54:36</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   StartTime=2023-07-19T15:54:37 EndTime=2023-07-19T15:54:42 Deadline=N/A</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   SuspendTime=None SecsPreSuspend=0 LastSchedEval=2023-07-19T15:54:37 Scheduler=Main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Partition=test AllocNode:Sid=rclogin01:692486</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ReqNodeList=(null) ExcNodeList=(null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   NodeList=gnode009</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   BatchHost=gnode009</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   NumNodes=1 NumCPUs=1 NumTasks=1 CPUs/Task=1 ReqB:S:C:T=0:0:*:*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   TRES=cpu=1,mem=1M,node=1,billing=1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Socks/Node=* NtasksPerN:B:S:C=0:0:*:* CoreSpec=*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   MinCPUsNode=1 MinMemoryNode=1M MinTmpDiskNode=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Features=(null) DelayBoot=00:00:00</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   OverSubscribe=OK Contiguous=0 Licenses=(null) Network=(null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Command=/scratch/****/python_OOO/job.sub</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   WorkDir=/scratch/****/python_OOO</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   StdErr=/scratch/****/python_OOO/oomout.qlog</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   StdIn=/dev/null</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   StdOut=/scratch/****/python_OOO/oomout.qlog</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Power=</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Looking through the output of <code>scontrol</code> we can see the job state, the state the job was last recorded at before the session was terminated or ended, was <code>OUT_OF_MEMORY</code>, the node reason was listed at <code>OUTofMemory</code> and the exit code was recorded at, before the job session was terminated, <code>0:125</code>. All of these fields are useful and allow for the debugging process to conclude that the job did not succesfully run because of a memory capacity issue.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="time-out-issues">Time-Out Issues<a href="#time-out-issues" class="hash-link" aria-label="Direct link to Time-Out Issues" title="Direct link to Time-Out Issues">​</a></h3>
<p>One common issue for jobs failing is if job does not complete in the allocated time. This leads to a <strong>Time-Out</strong> State and a <code>(TimeLimit)</code> nodelist reason. The best approach is to increase the time being allocated for the job to run, ensuring that the job does not exceed the partition&#x27;s max walltime. If the job continues to fail with a <strong>Time-Out</strong> state then it is best to break the job down into smaller jobs,  make it into a job array or change the partition that the job is being placed onto to run and compute.</p>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary> Below is a script that will result in a time-out error. </summary><div><div class="collapsibleContent_i85q"><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#!/bin/bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#SBATCH --nodes=1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#SBATCH --ntasks=1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#SBATCH -p test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#SBATCH --mem=1G  #Here is the reason why the job fails</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#SBATCH --time=0-00:01:00     # 1 mins</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#SBATCH --output=regular.stdout</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#SBATCH --job-name=test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#SBATCH --export=ALL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;Starting Process&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sleep 180</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;Ending Process&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This job script prints &quot;Starting Process,&quot; then waits for 180 seconds before printing &quot;Ending Process.&quot; When submitted with <code>sbatch</code>, it is placed in the requested partition but fails because it exceeds the maximum wall time of 1 minute. Since the script requires a minimum of 180 seconds to complete, it needs a longer wall time to run successfully.</p></div></div></details>
<p>Using <code>sacct -j &lt;jobID&gt; --format=jobid,jobname,reqcpus,reqmem,elapsed,state,exitcode</code>, we get a result table that shows that the first part timed out and thus resulted in a failed, timed out and canceled state.</p>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary> <code>sacct</code> output </summary><div><div class="collapsibleContent_i85q"><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">JobID           JobName  ReqCPUS     ReqMem    Elapsed      State ExitCode</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">------------ ---------- -------- ---------- ---------- ---------- --------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">569330             test        1         1G   00:01:02    TIMEOUT      0:0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">569330.batch      batch        1              00:01:03  CANCELLED     0:15</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">569330.exte+     extern        1              00:01:02  COMPLETED      0:0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">569330.0           echo        1              00:00:00  COMPLETED      0:0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">569330.1          sleep        1              00:01:02  CANCELLED     0:15</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></details>
<p>Using the sacct command we see that the job resulted in <code>TIMEOUT</code> state which allows us to debug that the issue was an walltime issue issue. This can further be seen as <code>569330.0</code> or <code>echo</code> on the fourth line shows that echo was completed it was able to execute in the begginging when it printed &quot;Starting Process&quot; but echo was never called again as the job timed-out so the second echo which prints out &quot;Ending Process&quot; was never reached as the job stoped one line before it.</p>
<p>It always important to note that sometimes a job failing not the result of one issue or error, but a combination of many errors and issues. Furthermore it is best to keep track of jobs before, during and after completion.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="useful-proccess-to-follow-to-ensure-sucessful-completion-of-jobs">Useful proccess to follow to ensure sucessful completion of jobs<a href="#useful-proccess-to-follow-to-ensure-sucessful-completion-of-jobs" class="hash-link" aria-label="Direct link to Useful proccess to follow to ensure sucessful completion of jobs" title="Direct link to Useful proccess to follow to ensure sucessful completion of jobs">​</a></h2>
<ol>
<li>
<p>Submit the Job
Submit the above job and see how it runs. To submit the above job, run the following command.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sbatch script.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Output:</p>
<blockquote>
<p>Submitted batch job [JOBID]</p>
</blockquote>
</li>
<li>
<p>Watch Live Status of the Job.
Use the <code>watch squeue -u &lt;username&gt;</code>. Do not include anything past the <code>@</code> in the username. Ex. <code>watch squeue -u guest001</code>. Empty Version of Live Status is below.</p>
<p>Every 2.0s: squeue -u guest001
CLUSTER: pinnacles<br>
<!-- -->JOBID PARTITION     NAME     USER ST	TIME  NODES NODELIST(REASON)</p>
</li>
</ol>
<blockquote>
<p>To exit the live status of the watch squeue command, press Ctrl + C</p>
</blockquote>
<ol start="3">
<li>After the job exits from the queue, run the below sacct command to check the status of the job.
<code>sacct -j &lt;JobID&gt; </code> or <code>scontrol show job &lt;jobid&gt;</code></li>
</ol>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary> <code>sacct Command SampleOutput</code>: </summary><div><div class="collapsibleContent_i85q"><p>JobID    JobName    Elapsed      State ExitCode</p><hr><p>568963             test        3      1024M                         00:01:10              TIMEOUT      0:0
568963.batch      batch        3                12.01M     12.01M   00:01:11            CANCELLED     0:15
568963.exte+     extern        3                 0.90M      0.90M   00:01:10            COMPLETED      0:0
568963.0           echo        3                 3.30M      3.30M   00:00:00            COMPLETED      0:0
568963.1          sleep        3                 3.27M      3.27M   00:01:12            CANCELLED     0:15</p></div></div></details>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="other-useful-commands">Other Useful Commands<a href="#other-useful-commands" class="hash-link" aria-label="Direct link to Other Useful Commands" title="Direct link to Other Useful Commands">​</a></h2>
<table><thead><tr><th>Command</th><th>Use</th></tr></thead><tbody><tr><td>scancel [jobid] or skill [jobid]</td><td>These commands will kill the specified job in it&#x27;s current process and state.</td></tr><tr><td>seff [jobid]</td><td>This command can be used to find the job efficiency report for the job(s) after it has completed and exited from the queue. Some information in the report are: State, CPU &amp; Memory Utilized, CPU &amp; Memory Efficiency. If the command ussed while the job is still in the R(Running) state, this might report incorrect information.</td></tr></tbody></table></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/amirayuyue/hpc_doc_new/docs/hpcdocs/HPC-clusters/job_manage.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/hpc_doc_new/docs/hpcdocs/HPC-clusters/jobs"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Running Jobs</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/hpc_doc_new/docs/hpcdocs/HPC-clusters/run_apps"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Running Common Applications</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#checking-the-use-of-a-mixed-state-node" class="table-of-contents__link toc-highlight">Checking the use of a mixed-state node.</a></li><li><a href="#checking-jobs-after-submission" class="table-of-contents__link toc-highlight">Checking jobs after submission</a></li><li><a href="#job-state" class="table-of-contents__link toc-highlight">Job State</a></li><li><a href="#nodelist-reasons" class="table-of-contents__link toc-highlight">Nodelist Reasons</a></li><li><a href="#sacct-command" class="table-of-contents__link toc-highlight"><code>sacct</code> command</a></li><li><a href="#scontrol-command" class="table-of-contents__link toc-highlight"><code>scontrol</code> Command</a></li><li><a href="#common-issues" class="table-of-contents__link toc-highlight">Common Issues</a><ul><li><a href="#out-of-memory-issues" class="table-of-contents__link toc-highlight">Out of Memory Issues</a></li><li><a href="#time-out-issues" class="table-of-contents__link toc-highlight">Time-Out Issues</a></li></ul></li><li><a href="#useful-proccess-to-follow-to-ensure-sucessful-completion-of-jobs" class="table-of-contents__link toc-highlight">Useful proccess to follow to ensure sucessful completion of jobs</a></li><li><a href="#other-useful-commands" class="table-of-contents__link toc-highlight">Other Useful Commands</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/hpc_doc_new/docs/hpcdocs/hpc-tutorials/intro-hpc">HPC Tutorial</a></li><li class="footer__item"><a class="footer__link-item" href="/hpc_doc_new/docs/hpcdocs/HPC-clusters/campus-clusters/#hpc-clusters">HPC Clusters</a></li><li class="footer__item"><a class="footer__link-item" href="/hpc_doc_new/docs/jupyter/jupyterhub">JupyterHub</a></li></ul></div><div class="col footer__col"><div class="footer__title">Support</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://ucmerced.service-now.com/servicehub" target="_blank" rel="noopener noreferrer" class="footer__link-item">ServiceNow Hub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://ucmerced.zoom.us/j/89487493900" target="_blank" rel="noopener noreferrer" class="footer__link-item">Zoom Office Hours (Fridays 11:30pm-1pm PT<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://it.ucmerced.edu/CIRT" target="_blank" rel="noopener noreferrer" class="footer__link-item">CIRT UC Merced Home Page<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://ucmhpcclusters.slack.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">UC Merced HPC Cluster Slack Workspace<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/hpc_doc_new/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/amirayuyue/hpc_doc_new" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 University of California, Merced HPC & JupyterHub Documentation.</div></div></div></footer></div>
</body>
</html>