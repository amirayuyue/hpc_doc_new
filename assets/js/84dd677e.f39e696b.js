"use strict";(self.webpackChunkhpc_doc_new=self.webpackChunkhpc_doc_new||[]).push([[8782],{9486:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>i,metadata:()=>a,toc:()=>d});var s=n(4848),r=n(8453);const i={title:"Creating assignments - Using ottergrader",sidebar_position:8},o=void 0,a={id:"jupyter/ottergrader",title:"Creating assignments - Using ottergrader",description:"Otter Grader\xa0is a light-weight, modular open-source autograder developed by the Data Science Education Program at UC Berkeley. It is designed to grade Python and R assignments for classes at any scale by abstracting away the autograding internals in a way that is compatible with any instructor\u2019s assignment distribution and collection pipeline.",source:"@site/docs/jupyter/ottergrader.md",sourceDirName:"jupyter",slug:"/jupyter/ottergrader",permalink:"/hpc_doc_new/docs/jupyter/ottergrader",draft:!1,unlisted:!1,editUrl:"https://github.com/amirayuyue/hpc_doc_new/docs/jupyter/ottergrader.md",tags:[],version:"current",sidebarPosition:8,frontMatter:{title:"Creating assignments - Using ottergrader",sidebar_position:8},sidebar:"jupytersidebar",previous:{title:"GitHub & nbgitpuller",permalink:"/hpc_doc_new/docs/jupyter/github_nbgitpuller"},next:{title:"Creating a Gradescope Asssignment in CatCourses",permalink:"/hpc_doc_new/docs/jupyter/canvas"}},l={},d=[{value:"Assignment Config ",id:"assignment-config-",level:3},{value:"Creating Questions ",id:"creating-questions-",level:3},{value:"Question Format ",id:"question-format-",level:3},{value:"Test Cases Format ",id:"test-cases-format-",level:3},{value:"Assignment examples ",id:"assignment-examples-",level:3},{value:"otter-assign",id:"otter-assign",level:2}];function c(e){const t={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.a,{href:"https://otter-grader.readthedocs.io/en/latest/",children:"Otter Grader"}),"\xa0is a light-weight, modular open-source autograder developed by the Data Science Education Program at UC Berkeley. It is designed to grade Python and R assignments for classes at any scale by abstracting away the autograding internals in a way that is compatible with any instructor\u2019s assignment distribution and collection pipeline."]}),"\n",(0,s.jsxs)(t.p,{children:["The following steps explain how to create assignments/homework using\xa0",(0,s.jsx)(t.a,{href:"https://otter-grader.readthedocs.io/en/latest/",children:"otter-grader"}),"\xa0and Jupyterhub."]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.a,{href:"https://otter-grader.readthedocs.io/en/latest/",children:"Otter-Grader"}),"\xa0parses a parent notebook containing questions, solutions, and tests to create two distribution directories: one with solutions and all tests for automatic grading and a second with no solutions and only public tests for students."]}),"\n",(0,s.jsx)(t.p,{children:"Before Creating assignments using otter-grader let\u2019s understand the important concepts that will be helpful.There are three different types of cell formats in Jupyter\xa0Notebooks which are."}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"Raw -\u2192 This option will be used as plain text"}),"\n",(0,s.jsx)(t.li,{children:"Markdown -\u2192 It will be used to create the Markdown format text ex.Headers,Links,Images,text in a md format"}),"\n",(0,s.jsx)(t.li,{children:"Code -\u2192 When u change the cell type into code block, where we can write the Python or R code"}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:n(6021).A+"",width:"624",height:"201"})}),"\n",(0,s.jsx)(t.h3,{id:"assignment-config-",children:"Assignment Config "}),"\n",(0,s.jsxs)(t.p,{children:["In addition to various command line arguments discussed below, Otter Assign also allows you to specify various assignment generation arguments in an assignment config cell. These are very similar to the question config cells described in the next section. Assignment config, included by convention as the first cell of the notebook, places YAML-formatted configurations in a\xa0",(0,s.jsx)(t.strong,{children:"raw cell"}),"\xa0that begins with the comment\xa0",(0,s.jsx)(t.strong,{children:"# ASSIGNMENT CONFIG."})]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"Example"}),"\n"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:'# ASSIGNMENT CONFIG\n\n  solutions\\_pdf: true\n\n  export\\_cell:\n\n  instructions: "These are some submission instructions."\n\n  generate:\xa0\n\n  pdf: true\n\n  filtering: true\n\n  pagebreaks: true\n\n  zips: false\n'})}),"\n",(0,s.jsxs)(t.p,{children:["For more information about ",(0,s.jsx)(t.strong,{children:"# ASSIGNMENT CONFIG"})," please refer the\xa0",(0,s.jsx)(t.a,{href:"https://otter-grader.readthedocs.io/en/v4.4.1/otter_assign/v1/notebook_format.html",children:"documentation"}),"."]}),"\n",(0,s.jsx)(t.h3,{id:"creating-questions-",children:"Creating Questions "}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"The questions always starts with #BEGIN QUESTION and ends with #END QUESTION in between those we can create solution and test cases for that question.The following syntax will explain the question,solution and test cases format"}),"\n"]}),"\n",(0,s.jsx)(t.h3,{id:"question-format-",children:"Question Format "}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"#BEGIN QUESTION (**raw cell**)\nname: q1\npoints: 5\n\n"})}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Question 1:"}),"\xa0Write a function square that returns the square of its argument.(",(0,s.jsx)(t.strong,{children:"markdown cell)"})]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["#BEGIN SOLUTION(",(0,s.jsx)(t.strong,{children:"raw cell)"})]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Here we need to write the solution,which is typically a code(CODE cell)"})}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsx)(t.p,{children:"#END SOLUTION**(raw cell)**"}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsx)(t.p,{children:(0,s.jsxs)(t.strong,{children:["#",(0,s.jsx)(t.strong,{children:"BEGIN TESTS"}),"(raw cell)"]})}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"here we need to mention our test cases.Each test case will be on a seperate code cell"})}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsx)(t.p,{children:"#END TESTS**(raw cell)**"}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["#END QUESTION(",(0,s.jsx)(t.strong,{children:"raw cell"}),")"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsx)(t.p,{children:"The\xa0BEGIN QUESTION\xa0block contains the mandatory parameter\xa0name\xa0and two optional parameters,\xa0manual andpoints."}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsx)(t.p,{children:"Immediately after the question cell should be a solution cell."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"Refer the following example"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:'# BEGIN SOLUTION\ndef sieve(n):\n    """\n    Generate a set of prime numbers less than or equal to a positive integer.\n    """\n    # BEGIN SOLUTION\n    is_prime = [True for _ in range(n + 1)]\n    p = 2\n    while p ** 2 <= n:\n        if is_prime[p]:\n            for i in range(p ** 2, n + 1, p):\n                is_prime[i] = False\n        p += 1\n\n    is_prime[0]= False\n    is_prime[1]= False\n\n    return set(i for i in range(n + 1) if is_prime[i])\n    # END SOLUTION\n# END SOLUTION\n\n'})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"Using specially-formatted Python comments, otter-grader can parse the solution cell and replace lines with ellipsis or other user-defined prompts."}),"\n"]}),"\n",(0,s.jsx)(t.h3,{id:"test-cases-format-",children:"Test Cases Format "}),"\n",(0,s.jsx)(t.p,{children:"After the solution cell comes zero or more test cells, denoted by a beginning\xa0# BEGIN TESTS\xa0annotation, finishing with an ending\xa0# END TESTS\xa0annotation, and between these two lines functions that test the code. These functions\u2019 names begin with\xa0test_\xa0and are marked as\xa0# HIDDEN\xa0if appropriate. The\xa0# IGNORE\xa0lines provide funcationality for the grader to call the test funcions appropriately."}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"# BEGIN TESTS\n\n# BEGIN TESTS\ndef test_low_primes(sieve):\n    assert sieve(1) == set()\n    assert sieve(2) == {2}\n    assert sieve(3) == {2, 3}\n\ntest_low_primes(sieve)  # IGNORE\n# HIDDEN\ndef test_higher_primes(sieve):\n    assert sieve(20) == {2, 3, 5, 7, 11, 13, 17, 19}\n    assert sieve(100) == {2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61, 67, 71, 73, 79, 83, 89, 97}\n\ntest_higher_primes(sieve)  # IGNORE\n# END TESTS\n# END QUESTION\n"})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["To Understand more about Test Cases,Please refer this section from the documentation\xa0",(0,s.jsx)(t.a,{href:"https://otter-grader.readthedocs.io/en/latest/test_files/python_format.html#sample-test",children:"TEST CASES"})]}),"\n",(0,s.jsxs)(t.li,{children:["These cells will have their outputs parsed by otter-grader to generate the otter-formatted test files needed for autograding. The otter-grader docs\xa0",(0,s.jsx)(t.a,{href:"https://otter-grader.readthedocs.io/en/latest/tutorial.html",children:"tutorial"})," describes how to call otter-grader to parse the notebook."]}),"\n",(0,s.jsxs)(t.li,{children:["Once you have run otter-grader, you\u2019re ready to distribute your assignment to students! The\xa0studentsubdirectoy of your output directory will contain the version of the notebook for students (with solutions removed and only public tests) and the\xa0autograder\xa0subdirectory the version\xa0",(0,s.jsx)(t.em,{children:"with"}),"\xa0solutions and hidden tests."]}),"\n",(0,s.jsxs)(t.li,{children:["For more information, check out the\xa0",(0,s.jsx)(t.a,{href:"https://otter-grader.readthedocs.io/en/v4.4.1/",children:"otter-grader documentation"}),"."]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"The following Screenshot will give a clear understading of above syntax for creating questions,solutions and test cases"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:n(7017).A+"",width:"624",height:"556"})}),"\n",(0,s.jsx)(t.h3,{id:"assignment-examples-",children:"Assignment examples "}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"To see the full-fledged,\xa0Please refer to this Jupyternotebooks"}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.a,{href:"https://github.com/SaiUCM/Jupyterhub_Docs_Instructor/blob/main/Notebook1.ipynb",children:"Sample Notebook1"}),","]}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://github.com/SaiUCM/Jupyterhub_Docs_Instructor/blob/main/Notebook2.ipynb",children:"Sample Notebook2"})}),"\n",(0,s.jsxs)(t.li,{children:["To understand more about creating questions,\xa0Please refer to this section in the document\xa0",(0,s.jsx)(t.a,{href:"https://otter-grader.readthedocs.io/en/latest/otter_assign/notebook_format.html#autograded-questions",children:"Autograded Questions"}),"."]}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"otter-assign",children:"otter-assign"}),"\n",(0,s.jsxs)(t.p,{children:["Once after creating\xa0the\xa0Source Notebook using otter-grader we need to generate a Student facing notebook where students can complete the assignment.\xa0To generate Student facing notebook use the command \u201c",(0,s.jsx)(t.strong,{children:"otter assign"}),"\u201c\xa0"]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.code,{children:"command :\xa0otter assign\xa0demo.ipynb\xa0dist "})}),"\n",(0,s.jsx)(t.p,{children:"Now let\u2019s break down the command.\xa0It has 3 sections as highlighted above in the command"}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"otter assign"}),"\xa0-\u2192 command to create the student facing notebook and a\xa0",(0,s.jsx)(t.strong,{children:"Autograder zipfile"}),"\xa0which can be used to grade the student submissions automatically using Gradescope."]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"demo.ipynb"}),"\xa0-\u2192 It is the source notebook that instructors created using otter-grader library ,Just like the one mentioned above in Creating Questions section"]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"dist"}),"\xa0\u2192 It is name of the folder where it can have both student facing Jupyter notebook which will be shared to students.The name of the folder can be anything."]}),"\n",(0,s.jsxs)(t.p,{children:["For more information about otter-assign,Please refer this\xa0",(0,s.jsx)(t.a,{href:"https://otter-grader.readthedocs.io/en/latest/tutorial.html#otter-assign",children:"section"}),"\xa0in otter-grader documentation"]})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},6021:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/cells.006-acb7b150a97ddbbd77c05f5b1805d772.png"},7017:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/otterq&a007-4c1d443bfffe6af0535e5f2988ac52fb.png"},8453:(e,t,n)=>{n.d(t,{R:()=>o,x:()=>a});var s=n(6540);const r={},i=s.createContext(r);function o(e){const t=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),s.createElement(i.Provider,{value:t},e.children)}}}]);